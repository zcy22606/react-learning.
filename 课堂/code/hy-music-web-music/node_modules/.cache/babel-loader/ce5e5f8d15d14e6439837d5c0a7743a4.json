{"ast":null,"code":"import React,{memo,useEffect,useRef}from'react';import{useDispatch,useSelector,shallowEqual}from'react-redux';import{getNewAlbumAction}from'../../store/actionCreators';import{Carousel}from'antd';import HYAlbumCover from'@/components/album-cover';import HYThemeHeaderRCM from'@/components/theme-header-rcm';import{AlbumWrapper}from'./style';export default memo(function HYNewAlbum(){// redux hooks\nvar _useSelector=useSelector(function(state){return{newAlbums:state.getIn([\"recommend\",\"newAlbums\"])};},shallowEqual),newAlbums=_useSelector.newAlbums;var dispatch=useDispatch();// other hooks\nvar pageRef=useRef();useEffect(function(){dispatch(getNewAlbumAction(10));},[dispatch]);return/*#__PURE__*/React.createElement(AlbumWrapper,null,/*#__PURE__*/React.createElement(HYThemeHeaderRCM,{title:\"\\u65B0\\u789F\\u4E0A\\u67B6\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"button\",{className:\"arrow arrow-left sprite_02\",onClick:function onClick(e){return pageRef.current.prev();}}),/*#__PURE__*/React.createElement(\"div\",{className:\"album\"},/*#__PURE__*/React.createElement(Carousel,{dots:false,ref:pageRef},[0,1].map(function(item){return/*#__PURE__*/React.createElement(\"div\",{key:item,className:\"page\"},newAlbums.slice(item*5,(item+1)*5).map(function(iten){return/*#__PURE__*/React.createElement(HYAlbumCover,{key:iten.id,info:iten,size:100,width:118,bgp:\"-570px\"});}));}))),/*#__PURE__*/React.createElement(\"button\",{className:\"arrow arrow-right sprite_02\",onClick:function onClick(e){return pageRef.current.next();}})));});","map":{"version":3,"sources":["C:/Users/冷鸟一米五/Desktop/my-learn/React学习/课堂/code/hy-music-web-music/src/pages/discover/c-pages/recommend/c-cpns/new-album/index.js"],"names":["React","memo","useEffect","useRef","useDispatch","useSelector","shallowEqual","getNewAlbumAction","Carousel","HYAlbumCover","HYThemeHeaderRCM","AlbumWrapper","HYNewAlbum","state","newAlbums","getIn","dispatch","pageRef","e","current","prev","map","item","slice","iten","id","next"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,CAAsBC,SAAtB,CAAiCC,MAAjC,KAA+C,OAA/C,CACA,OAASC,WAAT,CAAsBC,WAAtB,CAAmCC,YAAnC,KAAuD,aAAvD,CAEA,OAASC,iBAAT,KAAkC,4BAAlC,CAEA,OAASC,QAAT,KAAyB,MAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,+BAA7B,CACA,OAASC,YAAT,KAA6B,SAA7B,CAEA,cAAeV,CAAAA,IAAI,CAAC,QAASW,CAAAA,UAAT,EAAsB,CACxC;AADwC,iBAElBP,WAAW,CAAC,SAAAQ,KAAK,QAAK,CAC1CC,SAAS,CAAED,KAAK,CAACE,KAAN,CAAY,CAAC,WAAD,CAAc,WAAd,CAAZ,CAD+B,CAAL,EAAN,CAE7BT,YAF6B,CAFO,CAEhCQ,SAFgC,cAEhCA,SAFgC,CAKxC,GAAME,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CAEA;AACA,GAAMa,CAAAA,OAAO,CAAGd,MAAM,EAAtB,CACAD,SAAS,CAAC,UAAM,CACdc,QAAQ,CAACT,iBAAiB,CAAC,EAAD,CAAlB,CAAR,CACD,CAFQ,CAEN,CAACS,QAAD,CAFM,CAAT,CAIA,mBACE,oBAAC,YAAD,mBACE,oBAAC,gBAAD,EAAkB,KAAK,CAAC,0BAAxB,EADF,cAEE,2BAAK,SAAS,CAAC,SAAf,eACE,8BAAQ,SAAS,CAAC,4BAAlB,CACQ,OAAO,CAAE,iBAAAE,CAAC,QAAID,CAAAA,OAAO,CAACE,OAAR,CAAgBC,IAAhB,EAAJ,EADlB,EADF,cAGE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,QAAD,EAAU,IAAI,CAAE,KAAhB,CAAuB,GAAG,CAAEH,OAA5B,EAEI,CAAC,CAAD,CAAI,CAAJ,EAAOI,GAAP,CAAW,SAAAC,IAAI,CAAI,CACjB,mBACE,2BAAK,GAAG,CAAEA,IAAV,CAAgB,SAAS,CAAC,MAA1B,EAEIR,SAAS,CAACS,KAAV,CAAgBD,IAAI,CAAG,CAAvB,CAA0B,CAACA,IAAI,CAAG,CAAR,EAAa,CAAvC,EAA0CD,GAA1C,CAA8C,SAAAG,IAAI,CAAI,CACpD,mBAAO,oBAAC,YAAD,EAAc,GAAG,CAAEA,IAAI,CAACC,EAAxB,CACc,IAAI,CAAED,IADpB,CAEc,IAAI,CAAE,GAFpB,CAGc,KAAK,CAAE,GAHrB,CAIc,GAAG,CAAC,QAJlB,EAAP,CAKD,CAND,CAFJ,CADF,CAaD,CAdD,CAFJ,CADF,CAHF,cAwBE,8BAAQ,SAAS,CAAC,6BAAlB,CACQ,OAAO,CAAE,iBAAAN,CAAC,QAAID,CAAAA,OAAO,CAACE,OAAR,CAAgBO,IAAhB,EAAJ,EADlB,EAxBF,CAFF,CADF,CAgCD,CA7CkB,CAAnB","sourcesContent":["import React, { memo, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\n\nimport { getNewAlbumAction } from '../../store/actionCreators';\n\nimport { Carousel } from 'antd';\nimport HYAlbumCover from '@/components/album-cover';\nimport HYThemeHeaderRCM from '@/components/theme-header-rcm';\nimport { AlbumWrapper } from './style';\n\nexport default memo(function HYNewAlbum() {\n  // redux hooks\n  const { newAlbums } = useSelector(state => ({\n    newAlbums: state.getIn([\"recommend\", \"newAlbums\"])\n  }), shallowEqual);\n  const dispatch = useDispatch();\n\n  // other hooks\n  const pageRef = useRef();\n  useEffect(() => {\n    dispatch(getNewAlbumAction(10));\n  }, [dispatch]);\n\n  return (\n    <AlbumWrapper>\n      <HYThemeHeaderRCM title=\"新碟上架\" />\n      <div className=\"content\">\n        <button className=\"arrow arrow-left sprite_02\" \n                onClick={e => pageRef.current.prev()}></button>\n        <div className=\"album\">\n          <Carousel dots={false} ref={pageRef}>\n            {\n              [0, 1].map(item => {\n                return (\n                  <div key={item} className=\"page\">\n                    {\n                      newAlbums.slice(item * 5, (item + 1) * 5).map(iten => {\n                        return <HYAlbumCover key={iten.id} \n                                             info={iten} \n                                             size={100} \n                                             width={118} \n                                             bgp=\"-570px\"/>\n                      })\n                    }\n                  </div>\n                )\n              })\n            }\n          </Carousel>\n        </div>\n        <button className=\"arrow arrow-right sprite_02\"\n                onClick={e => pageRef.current.next()}></button>\n      </div>\n    </AlbumWrapper>\n  )\n})\n"]},"metadata":{},"sourceType":"module"}