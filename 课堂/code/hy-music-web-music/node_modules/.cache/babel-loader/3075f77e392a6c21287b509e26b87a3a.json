{"ast":null,"code":"/**\n[00:00.000] 作曲 : 许嵩\n[00:01.000] 作词 : 许嵩\n[00:22.240]天空好想下雨\n[00:24.380]我好想住你隔壁\n[00:26.810]傻站在你家楼下\n[00:29.500]抬起头数乌云\n[00:31.160]如果场景里出现一架钢琴\n[00:33.640]我会唱歌给你听\n[00:35.900]哪怕好多盆水往下淋\n[00:41.060]夏天快要过去}\n */\n// [00:31.160]如果场景里出现一架钢琴\nconst parseExp = /\\[(\\d{2}):(\\d{2})\\.(\\d{2,3})\\]/;\nexport function parseLyric(lyricString) {\n  const lineStrings = lyricString.split(\"\\n\");\n  const lyrics = [];\n\n  for (let line of lineStrings) {\n    if (line) {\n      const result = parseExp.exec(line);\n      if (!result) continue;\n      const time1 = result[1] * 60 * 1000;\n      const time2 = result[2] * 1000;\n      const time3 = result[3].length === 3 ? result[3] * 1 : result[3] * 10;\n      const time = time1 + time2 + time3;\n      const content = line.replace(parseExp, \"\").trim();\n      const lineObj = {\n        time,\n        content\n      };\n      lyrics.push(lineObj);\n    }\n  }\n\n  return lyrics;\n}","map":{"version":3,"sources":["C:/Users/冷鸟一米五/Desktop/my-learn/React学习/课堂/code/hy-music-web-music/src/utils/parse-lyric.js"],"names":["parseExp","parseLyric","lyricString","lineStrings","split","lyrics","line","result","exec","time1","time2","time3","length","time","content","replace","trim","lineObj","push"],"mappings":"AAAA;;;;;;;;;;;;AAaA;AACA,MAAMA,QAAQ,GAAG,gCAAjB;AAEA,OAAO,SAASC,UAAT,CAAoBC,WAApB,EAAiC;AACtC,QAAMC,WAAW,GAAGD,WAAW,CAACE,KAAZ,CAAkB,IAAlB,CAApB;AAEA,QAAMC,MAAM,GAAG,EAAf;;AACA,OAAK,IAAIC,IAAT,IAAiBH,WAAjB,EAA8B;AAC5B,QAAIG,IAAJ,EAAU;AACR,YAAMC,MAAM,GAAGP,QAAQ,CAACQ,IAAT,CAAcF,IAAd,CAAf;AACA,UAAI,CAACC,MAAL,EAAa;AACb,YAAME,KAAK,GAAGF,MAAM,CAAC,CAAD,CAAN,GAAY,EAAZ,GAAiB,IAA/B;AACA,YAAMG,KAAK,GAAGH,MAAM,CAAC,CAAD,CAAN,GAAY,IAA1B;AACA,YAAMI,KAAK,GAAGJ,MAAM,CAAC,CAAD,CAAN,CAAUK,MAAV,KAAqB,CAArB,GAAwBL,MAAM,CAAC,CAAD,CAAN,GAAU,CAAlC,GAAqCA,MAAM,CAAC,CAAD,CAAN,GAAU,EAA7D;AACA,YAAMM,IAAI,GAAGJ,KAAK,GAAGC,KAAR,GAAgBC,KAA7B;AACA,YAAMG,OAAO,GAAGR,IAAI,CAACS,OAAL,CAAaf,QAAb,EAAuB,EAAvB,EAA2BgB,IAA3B,EAAhB;AACA,YAAMC,OAAO,GAAG;AAACJ,QAAAA,IAAD;AAAOC,QAAAA;AAAP,OAAhB;AACAT,MAAAA,MAAM,CAACa,IAAP,CAAYD,OAAZ;AACD;AACF;;AACD,SAAOZ,MAAP;AACD","sourcesContent":["/**\n[00:00.000] 作曲 : 许嵩\n[00:01.000] 作词 : 许嵩\n[00:22.240]天空好想下雨\n[00:24.380]我好想住你隔壁\n[00:26.810]傻站在你家楼下\n[00:29.500]抬起头数乌云\n[00:31.160]如果场景里出现一架钢琴\n[00:33.640]我会唱歌给你听\n[00:35.900]哪怕好多盆水往下淋\n[00:41.060]夏天快要过去}\n */\n\n// [00:31.160]如果场景里出现一架钢琴\nconst parseExp = /\\[(\\d{2}):(\\d{2})\\.(\\d{2,3})\\]/;\n\nexport function parseLyric(lyricString) {\n  const lineStrings = lyricString.split(\"\\n\");\n\n  const lyrics = [];\n  for (let line of lineStrings) {\n    if (line) {\n      const result = parseExp.exec(line);\n      if (!result) continue;\n      const time1 = result[1] * 60 * 1000;\n      const time2 = result[2] * 1000;\n      const time3 = result[3].length === 3? result[3]*1: result[3]*10;\n      const time = time1 + time2 + time3;\n      const content = line.replace(parseExp, \"\").trim();\n      const lineObj = {time, content};\n      lyrics.push(lineObj);\n    }\n  }\n  return lyrics;\n}"]},"metadata":{},"sourceType":"module"}